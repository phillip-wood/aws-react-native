{"ast":null,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _class, _temp;\n\nvar _Platform = require(\"../../apis/Platform\");\n\nvar _Platform2 = _interopRequireDefault(_Platform);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _StyleSheet = require(\"../../apis/StyleSheet\");\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _View = require(\"../View\");\n\nvar _View2 = _interopRequireDefault(_View);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _portalRef = undefined;\nvar lastUsedTag = 0;\nvar Portal = (_temp = _class = function (_Component) {\n  _inherits(Portal, _Component);\n\n  _createClass(Portal, null, [{\n    key: 'allocateTag',\n    value: function allocateTag() {\n      return '__modal_' + ++lastUsedTag;\n    }\n  }, {\n    key: 'showModal',\n    value: function showModal(tag, component) {\n      if (!_portalRef) {\n        console.error('Calling showModal but no \"Portal\" has been rendered.');\n        return;\n      }\n\n      _portalRef._showModal(tag, component);\n    }\n  }, {\n    key: 'closeModal',\n    value: function closeModal(tag) {\n      if (!_portalRef) {\n        console.error('Calling closeModal but no \"Portal\" has been rendered.');\n        return;\n      }\n\n      _portalRef._closeModal(tag);\n    }\n  }, {\n    key: 'getOpenModals',\n    value: function getOpenModals() {\n      if (!_portalRef) {\n        console.error('Calling getOpenModals but no \"Portal\" has been rendered.');\n        return [];\n      }\n\n      return _portalRef._getOpenModals();\n    }\n  }, {\n    key: 'notifyAccessibilityService',\n    value: function notifyAccessibilityService() {\n      if (!_portalRef) {\n        console.error('Calling closeModal but no \"Portal\" has been rendered.');\n        return;\n      }\n\n      _portalRef._notifyAccessibilityService();\n    }\n  }]);\n\n  function Portal(props) {\n    _classCallCheck(this, Portal);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Portal).call(this, props));\n\n    _this.state = {\n      modals: {}\n    };\n    _this._closeModal = _this._closeModal.bind(_this);\n    _this._getOpenModals = _this._getOpenModals.bind(_this);\n    _this._showModal = _this._showModal.bind(_this);\n    return _this;\n  }\n\n  _createClass(Portal, [{\n    key: 'render',\n    value: function render() {\n      _portalRef = this;\n\n      if (!this.state.modals) {\n        return null;\n      }\n\n      var modals = [];\n\n      for (var tag in this.state.modals) {\n        modals.push(this.state.modals[tag]);\n      }\n\n      if (modals.length === 0) {\n        return null;\n      }\n\n      return _react2.default.createElement(_View2.default, {\n        style: styles.root\n      }, modals);\n    }\n  }, {\n    key: '_closeModal',\n    value: function _closeModal(tag) {\n      if (!this.state.modals.hasOwnProperty(tag)) {\n        return;\n      }\n\n      if (this._getOpenModals().length === 1) {\n        this.props.onModalVisibilityChanged(false);\n      }\n\n      this.setState(function (state) {\n        var modals = state.modals;\n        delete modals[tag];\n        return {\n          modals: modals\n        };\n      });\n    }\n  }, {\n    key: '_getOpenModals',\n    value: function _getOpenModals() {\n      return Object.keys(this.state.modals);\n    }\n  }, {\n    key: '_notifyAccessibilityService',\n    value: function _notifyAccessibilityService() {\n      if (_Platform2.default.OS === 'web') {}\n    }\n  }, {\n    key: '_showModal',\n    value: function _showModal(tag, component) {\n      if (this._getOpenModals().length === 0) {\n        this.props.onModalVisibilityChanged(true);\n      }\n\n      this.setState(function (state) {\n        var modals = state.modals;\n        modals[tag] = component;\n        return {\n          modals: modals\n        };\n      });\n    }\n  }]);\n\n  return Portal;\n}(_react.Component), _class.propTypes = {\n  onModalVisibilityChanged: _react.PropTypes.func.isRequired\n}, _temp);\n\nvar styles = _StyleSheet2.default.create({\n  root: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0\n  }\n});\n\nmodule.exports = Portal;","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/node_modules/react-native-web/dist/components/Portal/index.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_class","_temp","_Platform","require","_Platform2","_interopRequireDefault","_react","_react2","_StyleSheet","_StyleSheet2","_View","_View2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","_portalRef","undefined","lastUsedTag","Portal","_Component","allocateTag","showModal","tag","component","console","error","_showModal","closeModal","_closeModal","getOpenModals","_getOpenModals","notifyAccessibilityService","_notifyAccessibilityService","_this","getPrototypeOf","state","modals","bind","render","push","createElement","style","styles","root","hasOwnProperty","onModalVisibilityChanged","setState","keys","OS","Component","propTypes","PropTypes","func","isRequired","position","left","top","right","bottom","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _class, _temp; /**\n                    * Copyright 2015-present, Nicolas Gallagher\n                    * Copyright 2004-present, Facebook Inc.\n                    * All Rights Reserved.\n                    *\n                    * \n                    */\n\nvar _Platform = require('../../apis/Platform');\n\nvar _Platform2 = _interopRequireDefault(_Platform);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _StyleSheet = require('../../apis/StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _View = require('../View');\n\nvar _View2 = _interopRequireDefault(_View);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _portalRef = undefined;\n// unique identifiers for modals\nvar lastUsedTag = 0;\n\n/**\n * A container that renders all the modals on top of everything else in the application.\n */\nvar Portal = (_temp = _class = (function (_Component) {\n  _inherits(Portal, _Component);\n\n  _createClass(Portal, null, [{\n    key: 'allocateTag',\n\n    /**\n     * Create a new unique tag.\n     */\n    value: function allocateTag() {\n      return '__modal_' + ++lastUsedTag;\n    }\n\n    /**\n     * Render a new modal.\n     */\n\n  }, {\n    key: 'showModal',\n    value: function showModal(tag, component) {\n      if (!_portalRef) {\n        console.error('Calling showModal but no \"Portal\" has been rendered.');\n        return;\n      }\n      _portalRef._showModal(tag, component);\n    }\n\n    /**\n     * Remove a modal from the collection of modals to be rendered.\n     */\n\n  }, {\n    key: 'closeModal',\n    value: function closeModal(tag) {\n      if (!_portalRef) {\n        console.error('Calling closeModal but no \"Portal\" has been rendered.');\n        return;\n      }\n      _portalRef._closeModal(tag);\n    }\n\n    /**\n     * Get an array of all the open modals, as identified by their tag string.\n     */\n\n  }, {\n    key: 'getOpenModals',\n    value: function getOpenModals() {\n      if (!_portalRef) {\n        console.error('Calling getOpenModals but no \"Portal\" has been rendered.');\n        return [];\n      }\n      return _portalRef._getOpenModals();\n    }\n  }, {\n    key: 'notifyAccessibilityService',\n    value: function notifyAccessibilityService() {\n      if (!_portalRef) {\n        console.error('Calling closeModal but no \"Portal\" has been rendered.');\n        return;\n      }\n      _portalRef._notifyAccessibilityService();\n    }\n  }]);\n\n  function Portal(props) {\n    _classCallCheck(this, Portal);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Portal).call(this, props));\n\n    _this.state = { modals: {} };\n    _this._closeModal = _this._closeModal.bind(_this);\n    _this._getOpenModals = _this._getOpenModals.bind(_this);\n    _this._showModal = _this._showModal.bind(_this);\n    return _this;\n  }\n\n  _createClass(Portal, [{\n    key: 'render',\n    value: function render() {\n      _portalRef = this;\n      if (!this.state.modals) {\n        return null;\n      }\n      var modals = [];\n      for (var tag in this.state.modals) {\n        modals.push(this.state.modals[tag]);\n      }\n      if (modals.length === 0) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        _View2.default,\n        { style: styles.root },\n        modals\n      );\n    }\n  }, {\n    key: '_closeModal',\n    value: function _closeModal(tag) {\n      if (!this.state.modals.hasOwnProperty(tag)) {\n        return;\n      }\n      // We are about to close last modal, so Portal will disappear.\n      // Let's enable accessibility for application view.\n      if (this._getOpenModals().length === 1) {\n        this.props.onModalVisibilityChanged(false);\n      }\n      // This way state is chained through multiple calls to\n      // _showModal, _closeModal correctly.\n      this.setState(function (state) {\n        var modals = state.modals;\n        delete modals[tag];\n        return { modals: modals };\n      });\n    }\n  }, {\n    key: '_getOpenModals',\n    value: function _getOpenModals() {\n      return Object.keys(this.state.modals);\n    }\n  }, {\n    key: '_notifyAccessibilityService',\n    value: function _notifyAccessibilityService() {\n      if (_Platform2.default.OS === 'web') {\n        // We need to send accessibility event in a new batch, as otherwise\n        // TextViews have no text set at the moment of populating event.\n      }\n    }\n  }, {\n    key: '_showModal',\n    value: function _showModal(tag, component) {\n      // We are about to open first modal, so Portal will appear.\n      // Let's disable accessibility for background view on Android.\n      if (this._getOpenModals().length === 0) {\n        this.props.onModalVisibilityChanged(true);\n      }\n      // This way state is chained through multiple calls to\n      // _showModal, _closeModal correctly.\n      this.setState(function (state) {\n        var modals = state.modals;\n        modals[tag] = component;\n        return { modals: modals };\n      });\n    }\n  }]);\n\n  return Portal;\n})(_react.Component), _class.propTypes = {\n  onModalVisibilityChanged: _react.PropTypes.func.isRequired\n}, _temp);\n\nvar styles = _StyleSheet2.default.create({\n  root: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0\n  }\n});\n\nmodule.exports = Portal;"]},"metadata":{},"sourceType":"script"}