{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { Auth } from 'aws-amplify';\nAuth.currentAuthenticatedUser({\n  bypassCache: false\n}).then(function (user) {\n  return console.log(user);\n}).catch(function (err) {\n  return console.log(err);\n});\nexport default function updateAuthUserAttributes(property, payload) {\n  var user, result;\n  return _regeneratorRuntime.async(function updateAuthUserAttributes$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(Auth.currentAuthenticatedUser());\n\n        case 2:\n          user = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(Auth.updateUserAttributes(user, _defineProperty({}, property, [payload])));\n\n        case 5:\n          result = _context.sent;\n          console.log(result);\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/apis/auth.js"],"names":["Auth","currentAuthenticatedUser","bypassCache","then","user","console","log","catch","err","updateAuthUserAttributes","property","payload","updateUserAttributes","result"],"mappings":";;AAAA,SAASA,IAAT,QAAqB,aAArB;AAEAA,IAAI,CAACC,wBAAL,CAA8B;AAC1BC,EAAAA,WAAW,EAAE;AADa,CAA9B,EAEGC,IAFH,CAEQ,UAAAC,IAAI;AAAA,SAAIC,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAJ;AAAA,CAFZ,EAGCG,KAHD,CAGO,UAAAC,GAAG;AAAA,SAAIH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAJ;AAAA,CAHV;AAmBA,eAAe,SAAeC,wBAAf,CAAwCC,QAAxC,EAAkDC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACMX,IAAI,CAACC,wBAAL,EADN;;AAAA;AACPG,UAAAA,IADO;AAAA;AAAA,2CAGQJ,IAAI,CAACY,oBAAL,CAA0BR,IAA1B,sBACdM,QADc,EACF,CAACC,OAAD,CADE,EAHR;;AAAA;AAGPE,UAAAA,MAHO;AAMXR,UAAAA,OAAO,CAACC,GAAR,CAAYO,MAAZ;;AANW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { Auth } from 'aws-amplify'\n\nAuth.currentAuthenticatedUser({\n    bypassCache: false  // Optional, By default is false. If set to true, this call will send a request to Cognito to get the latest user data\n}).then(user => console.log(user))\n.catch(err => console.log(err));\n\n// async function register2( username, password, preferred_username, picture ) {\n//     console.log('test')\n//     try {\n//       await Auth.signUp({ username, password, attributes: { preferred_username, picture } })\n//       console.log('✅ Sign-up Confirmed')\n//       navigation.navigate('ConfirmSignUp')\n//     } \n    \n//     catch (error) {\n//       console.log('❌ Error signing up...', error)\n//     }\n// }\n\n\nexport default async function updateAuthUserAttributes(property, payload) {\n    let user = await Auth.currentAuthenticatedUser();\n\n    let result = await Auth.updateUserAttributes(user, {\n        [property] : [payload]\n    })\n    console.log(result); // SUCCESS\n}\n\n\n\n\n  \n// Storage.configure({ level: 'protected' })\n\n// Storage.list('profile-pics/', { level: 'protected' })\n// .then(result => console.log(result))\n// .catch(err => console.log(err))\n\n// const [picture, setPicture] = useState(user.picture)\n\n// const uploadToStorage = async pathToImageFile => {\n//   try {\n//     const response = await fetch(pathToImageFile)\n//     console.log(response)\n//     const blob = await response.blob()\n//     console.log(blob)\n//     Storage.put(`profile-pics/til.jpeg`, blob, {\n//       contentType: 'image/jpeg',\n//     })\n//   } catch (err) {\n//     console.log(err)\n//   }\n// }\n\n// const getfromStorage = async () => {\n//   try {\n//     const response = await Storage.get('profile-pics/til.jpeg')\n//     setPicture(response)\n//     }\n//   catch (err) {\n//     console.error('error accessing the user image',err)\n//   }\n// }\n\n// getfromStorage()\n// console.log(picture)\n\n// const handleAdd = (uri) => {\n// uploadToStorage(uri)\n\n// }"]},"metadata":{},"sourceType":"module"}