{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/phil/Workspace/aws-react-native/app/screens/search/Search.js\";\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { connect } from \"react-redux\";\nimport Screen from \"../../componets/Screen\";\nimport AppPicker from \"../../componets/AppPicker\";\nimport AppButton from \"../../componets/AppButton\";\nimport { setSearch } from \"../../../actions\";\n\nfunction Search(_ref) {\n  var sneakers = _ref.sneakers,\n      dispatch = _ref.dispatch,\n      navigation = _ref.navigation;\n\n  var _useState = useState('brand'),\n      _useState2 = _slicedToArray(_useState, 2),\n      brand = _useState2[0],\n      setBrand = _useState2[1];\n\n  var _useState3 = useState('model'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      model = _useState4[0],\n      setModel = _useState4[1];\n\n  var _useState5 = useState('submodel'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      submodel = _useState6[0],\n      setSubmodel = _useState6[1];\n\n  var brands = [{\n    id: 1,\n    label: 'nike'\n  }, {\n    id: 2,\n    label: 'adidas'\n  }, {\n    id: 3,\n    label: 'air jordan'\n  }, {\n    id: 4,\n    label: 'yeezy'\n  }, {\n    id: 5,\n    label: 'converse'\n  }, {\n    id: 6,\n    label: 'new balance'\n  }, {\n    id: 7,\n    label: 'puma'\n  }, {\n    id: 8,\n    label: 'reebok'\n  }, {\n    id: 9,\n    label: 'under armour'\n  }, {\n    id: 10,\n    label: 'vans'\n  }];\n  var models = pickerList(sneakers, 'brand', 'model');\n  var submodels = pickerList(sneakers, 'model', 'submodel');\n\n  function pickerList(array, key1, key2) {\n    var newArray = [];\n    var state = key1 === 'brand' ? brand : model;\n    array.map(function (sneaker, index) {\n      if (sneaker[key1] === state) {\n        newArray.push({\n          id: index,\n          label: sneaker[key2]\n        });\n      }\n    });\n\n    var newArray2 = _toConsumableArray(new Map(newArray.map(function (item) {\n      return [item.label, item];\n    })).values());\n\n    return newArray2;\n  }\n\n  function onSubmit() {\n    dispatch(setSearch({\n      brand: brand,\n      model: model,\n      submodel: submodel\n    }));\n    navigation.navigate('Home');\n  }\n\n  return React.createElement(Screen, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, React.createElement(AppPicker, {\n    items: brands,\n    name: \"brand\",\n    placeholder: brand,\n    onSelectItem: function onSelectItem(text) {\n      return setBrand(text.label);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), React.createElement(AppPicker, {\n    items: models,\n    name: \"model\",\n    placeholder: model,\n    onSelectItem: function onSelectItem(text) {\n      return setModel(text.label);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), React.createElement(AppPicker, {\n    items: submodels,\n    name: \"submodel\",\n    placeholder: submodel,\n    onSelectItem: function onSelectItem(text) {\n      return setSubmodel(text.label);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), React.createElement(AppButton, {\n    title: \"Search\",\n    onPress: function onPress() {\n      return onSubmit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    padding: 10\n  }\n});\n\nfunction mapStateToProps(globalState) {\n  return {\n    sneakers: globalState.sneakers\n  };\n}\n\nexport default connect(mapStateToProps)(Search);","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/app/screens/search/Search.js"],"names":["React","useState","useEffect","connect","Screen","AppPicker","AppButton","setSearch","Search","sneakers","dispatch","navigation","brand","setBrand","model","setModel","submodel","setSubmodel","brands","id","label","models","pickerList","submodels","array","key1","key2","newArray","state","map","sneaker","index","push","newArray2","Map","item","values","onSubmit","navigate","styles","container","text","StyleSheet","create","padding","mapStateToProps","globalState"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { StyleSheet } from \"react-native\"\nimport { connect } from \"react-redux\"\n\nimport Screen from \"../../componets/Screen\"\nimport AppPicker from \"../../componets/AppPicker\"\nimport AppButton from \"../../componets/AppButton\"\nimport { setSearch } from \"../../../actions\"\n\n\nfunction Search({ sneakers, dispatch, navigation }) {\n  \n  const [brand, setBrand] = useState('brand')\n  const [model, setModel] = useState('model')\n  const [submodel, setSubmodel ] = useState('submodel')\n\n  let brands = [{id:1, label:'nike'}, {id:2, label:'adidas'}, {id:3, label:'air jordan'}, {id:4, label:'yeezy'}, {id:5, label:'converse'}, {id:6, label:'new balance'}, {id:7, label:'puma'}, {id:8, label:'reebok'}, {id:9, label:'under armour'}, {id:10, label:'vans'}]\n  let models = pickerList ( sneakers, 'brand', 'model' )\n  let submodels = pickerList ( sneakers, 'model', 'submodel' )\n\n  function pickerList ( array, key1, key2 ) {\n    let newArray = []\n    let state = (key1 === 'brand') ? brand : model \n    array.map( (sneaker, index) => { if ( sneaker[key1] === state ){ newArray.push ( { id: index, label: sneaker[key2] } ) } } )\n    const newArray2 = [...new Map(newArray.map(item => [item.label, item])).values()]\n    return newArray2\n  }\n\n  function onSubmit () {\n    dispatch(setSearch( { brand:brand, model:model, submodel:submodel }))\n    navigation.navigate('Home')\n  }\n\n  return (\n    <Screen style={styles.container}>\n        <AppPicker items={brands} name=\"brand\" placeholder={brand} onSelectItem={text => setBrand(text.label)} />\n        <AppPicker items={models} name=\"model\" placeholder={model} onSelectItem={text => setModel(text.label)} />\n        <AppPicker items={submodels} name=\"submodel\" placeholder={submodel} onSelectItem={text => setSubmodel(text.label)} />\n        <AppButton title='Search' onPress={() => onSubmit()}/>\n    </Screen>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 10,\n  },\n})\n\nfunction mapStateToProps (globalState) {\n    return {\n      sneakers: globalState.sneakers\n    }\n}\n  \nexport default connect(mapStateToProps)(Search)"]},"metadata":{},"sourceType":"module"}