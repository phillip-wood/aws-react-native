{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/home/phil/Workspace/aws-react-native/app/screens/profile/UserDetails.js\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { connect } from \"react-redux\";\nimport Amplify, { Storage } from 'aws-amplify';\nimport colors from \"../../config/colors\";\nimport Screen from \"../../componets/Screen\";\nimport ImageInputList from \"../../componets/ImageInputList\";\n\nfunction UserDetails(_ref) {\n  var navigation = _ref.navigation,\n      user = _ref.user;\n  Storage.configure({\n    level: 'protected'\n  });\n\n  var uploadToStorage = function uploadToStorage(pathToImageFile) {\n    var response, blob;\n    return _regeneratorRuntime.async(function uploadToStorage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(pathToImageFile));\n\n          case 3:\n            response = _context.sent;\n            console.log(response);\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(response.blob());\n\n          case 7:\n            blob = _context.sent;\n            console.log(blob);\n            Storage.put(\"test2.png\", 'Protected Content', blob, {\n              level: 'protected',\n              contentType: 'image/png'\n            });\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 12]], Promise);\n  };\n\n  function userPic() {\n    var userProfileUrl;\n    return _regeneratorRuntime.async(function userPic$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Storage.get('test2.png'));\n\n          case 3:\n            userProfileUrl = _context2.sent;\n            console.log(userProfileUrl);\n            return _context2.abrupt(\"return\", userProfileUrl);\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error('error accessing the user image', err);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  }\n\n  var uri = userPic();\n\n  var handleAdd = function handleAdd(uri) {\n    uploadToStorage(uri);\n  };\n\n  return React.createElement(Screen, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 3\n    }\n  }, React.createElement(ImageInputList, {\n    imageUris: ['UserDetails.js:40 https://sneakedbucket212939-staging.s3.ap-southeast-2.amazonaws.com/protected/ap-southeast-2%3A9b6241c2-22f4-4fbd-b181-d66eeec5a479/test2.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAT527P4EIT4XTARJ7%2F20210131%2Fap-southeast-2%2Fs3%2Faws4_request&X-Amz-Date=20210131T220102Z&X-Amz-Expires=900&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMb%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0yIkgwRgIhAOBLayOJ%2FFCmtZxyojHorFgjoBHwZuG1LFW%2BGf2mZr7wAiEA8m5feaz9rIfLcE%2BLkY6g5eoBdTPfO8LSmJW51aNHxtUq6wQIr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgwyNzAyNDYzMzg4MzMiDDVTABphZ7WydANWuSq%2FBBYoaiaZk50E3VFhWe3JU%2BJZTDgrlG4PClfYKKSrIIM8YO3XD9cvS%2Bb81S25mFfPZZ3bWB3bqBeo7IxZH5SbB4Cqzrk7Yj3SQ0Rea%2BZrgiG6xFUrCrs6ZUFn3aL2MwQXF2FK8HKMSeXta0KBBp56ok7etd812RTgD8mOfrQ2zs2GptIYlXFYgRNjDn8Zxi3RJEHX8Snr6cJF6EobgqWthIwPewi0YLCVzLXugod%2Fb7b46GfiDhy6qqTXQON3s9KJmrOOO5Xu%2FlxuFP%2F1fzT7DD2wcIAxzCCegUSTj0vxLc3lcgjfB3xCIM9nGgHnBAhDiA8u3OcTNV78S1Rg8hC8OZm0nwF0sNHB5rChi95Mn6Ia%2BF%2BBeoLvp%2BLByf3VPGPkRln5sX08DsKiB70qwQ5sBMkNieYAPNPeO9stqQlPOlpH3VQ0%2B21V6fC8jv77Klccex7TS%2BFZYTqZHg4unfcm%2FzR2QEEybmhZdE52oJijmF04VW7%2FYly1hHwRX0IyBIc1bF8CKJWuW16or5mbBDGnmNZI3KkzrFK7jaxe3k50jjBrV6bcxaTlTxUs1e%2BlLOqOf3xmDPDZrmDaV6928Q7ASeqLcycZGmCQt%2BVpkyHRE8NaJnIejd0ilb3nW7pj1cGWpRZfhZJixrCBgvCGw4iEqsK19Y818zzZysUSKoSHiHVQ2Z5PEamAbWdhdOzgBFjmI%2FNby1AEl778at2Yxekw7YfY7J2E4HAhSnC2nc%2FHnx9%2FVkvADrzGO8yZVg6kETQPMJ7R3IAGOoQCxz%2FqwBZ3WJNdYCoP4kyIg2NxmJ3nthngfPBxkCT%2FzapjN8CJyQgxu10thRXvWgqKaHJdBE9sNhXdL2HwE5r44PdnDqsG%2FDj5HUv8g07WALb%2BEcXPfTJMJ4Xb1M6Ojw9uOWEL5VghjdtPBsqjjIhcTtLEbge8Byl2Te4ybOMuzLqDfAJEf8iI3Rncf0mKOCebih%2F5ftIVk2mJ6RS1a1OiL0PkxYggLaxr4o9bI3C6bSvykXkcIqaNwgg7Et%2Bcqa%2FGhuEgguaWpllqfBghniUabsPqPksKO0%2B2KgyuPDNC0AKQUIz445wljdTBo4w1NatZYmQtBxdlGXzYSW0egsLDRVmJ2zw%3D&X-Amz-Signature=558edd2730875dc127251f2fb432072d5f30bccd33fe3b87c9b20f1b84b32848&X-Amz-SignedHeaders=host&x-amz-user-agent=aws-sdk-js-v3-%40aws-sdk%2Fclient-s3%2F1.0.0-rc.4%20Mozilla%2F5.0%20%28iPhone%3B%20CPU%20iPhone%20OS%2013_2_3%20like%20Mac%20OS%20X%29%20AppleWebKit%2F605.1.15%20%28KHTML%2C%20like%20Gecko%29%20Version%2F13.0.3%20Mobile%2F15E148%20Safari%2F604.1%20aws-amplify%2F3.8.8%20js&x-id=GetObject'],\n    onAddImage: handleAdd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 3\n    }\n  }));\n}\n\nfunction mapStateToProps(globalState) {\n  return {\n    user: globalState.user\n  };\n}\n\nexport default connect(mapStateToProps)(UserDetails);\nvar styles = StyleSheet.create({\n  screen: {\n    backgroundColor: colors.white\n  },\n  container: {\n    marginVertical: 20\n  },\n  logo: {\n    width: 66,\n    height: 58\n  }\n});","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/app/screens/profile/UserDetails.js"],"names":["React","connect","Amplify","Storage","colors","Screen","ImageInputList","UserDetails","navigation","user","configure","level","uploadToStorage","pathToImageFile","fetch","response","console","log","blob","put","contentType","userPic","get","userProfileUrl","error","err","uri","handleAdd","mapStateToProps","globalState","styles","StyleSheet","create","screen","backgroundColor","white","container","marginVertical","logo","width","height"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,IAAkBC,OAAlB,QAAiC,aAAjC;AAGA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,OAAOC,cAAP;;AAIA,SAASC,WAAT,OAA2C;AAAA,MAApBC,UAAoB,QAApBA,UAAoB;AAAA,MAARC,IAAQ,QAARA,IAAQ;AAEzCN,EAAAA,OAAO,CAACO,SAAR,CAAkB;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAlB;;AAQA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAMC,eAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEGC,KAAK,CAACD,eAAD,CAFR;;AAAA;AAEdE,YAAAA,QAFc;AAGpBC,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAHoB;AAAA,6CAIDA,QAAQ,CAACG,IAAT,EAJC;;AAAA;AAIdA,YAAAA,IAJc;AAKpBF,YAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAf,YAAAA,OAAO,CAACgB,GAAR,cAAyB,mBAAzB,EAA8CD,IAA9C,EAAoD;AAClDP,cAAAA,KAAK,EAAE,WAD2C;AAElDS,cAAAA,WAAW,EAAE;AAFqC,aAApD;AANoB;AAAA;;AAAA;AAAA;AAAA;AAWpBJ,YAAAA,OAAO,CAACC,GAAR;;AAXoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAgBD,WAAeI,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEgClB,OAAO,CAACmB,GAAR,CAAY,WAAZ,CAFhC;;AAAA;AAESC,YAAAA,cAFT;AAGGP,YAAAA,OAAO,CAACC,GAAR,CAAYM,cAAZ;AAHH,8CAIUA,cAJV;;AAAA;AAAA;AAAA;AAMGP,YAAAA,OAAO,CAACQ,KAAR,CAAc,gCAAd,EAA+CC,GAA/C;;AANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUD,MAAIC,GAAG,GAAGL,OAAO,EAAjB;;AAGA,MAAMM,SAAS,GAAG,SAAZA,SAAY,CAACD,GAAD,EAAS;AACzBd,IAAAA,eAAe,CAACc,GAAD,CAAf;AAED,GAHD;;AAYA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMA,oBAAC,cAAD;AACI,IAAA,SAAS,EAAE,CAAC,isEAAD,CADf;AAEI,IAAA,UAAU,EAAEC,SAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANA,CADF;AAeC;;AAED,SAASC,eAAT,CAA0BC,WAA1B,EAAuC;AACrC,SAAO;AACLpB,IAAAA,IAAI,EAACoB,WAAW,CAACpB;AADZ,GAAP;AAGD;;AAED,eAAeR,OAAO,CAAC2B,eAAD,CAAP,CAAyBrB,WAAzB,CAAf;AAEA,IAAMuB,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,eAAe,EAAE9B,MAAM,CAAC+B;AADlB,GADuB;AAI/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE;AADP,GAJoB;AAO/BC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,EADH;AAEJC,IAAAA,MAAM,EAAE;AAFJ;AAPyB,CAAlB,CAAf","sourcesContent":["import React from \"react\"\nimport { StyleSheet, Image } from \"react-native\"\nimport { connect } from \"react-redux\"\nimport Amplify, { Storage } from 'aws-amplify'\n// import { v4 as uuidv4 } from 'uuid'\n\nimport colors from \"../../config/colors\"\nimport Screen from \"../../componets/Screen\"\nimport ImageInputList from \"../../componets/ImageInputList\"\n\n\n\nfunction UserDetails({ navigation, user }) {\n\n  Storage.configure({ level: 'protected' })\n\n  \n\n\n\n  // const [picture, setPicture] = useState('')\n\n  const uploadToStorage = async pathToImageFile => {\n    try {\n      const response = await fetch(pathToImageFile)\n      console.log(response)\n      const blob = await response.blob()\n      console.log(blob)\n      Storage.put(`test2.png`, 'Protected Content', blob, {\n        level: 'protected',\n        contentType: 'image/png',\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n\n async function userPic() {\n  try {\n    const userProfileUrl = await Storage.get('test2.png')\n    console.log(userProfileUrl)\n    return userProfileUrl\n  } catch (error) {\n    console.error('error accessing the user image',err)\n  }\n }\n  \nlet uri = userPic()\n\n\nconst handleAdd = (uri) => {\n  uploadToStorage(uri)\n  \n}\n\n// const handleRemove = (uri) => {\n//   setFieldValue(\n//     name,\n//     imageUris.filter((imageUri) => imageUri !== uri)\n//   )\n// }\n\nreturn (\n  <Screen>\n    {/* <Image\n    style={styles.logo}\n    options=\"{'level':'private'}\"\n    source={{uri:uri}}\n    />   */}\n  <ImageInputList\n      imageUris={['UserDetails.js:40 https://sneakedbucket212939-staging.s3.ap-southeast-2.amazonaws.com/protected/ap-southeast-2%3A9b6241c2-22f4-4fbd-b181-d66eeec5a479/test2.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAT527P4EIT4XTARJ7%2F20210131%2Fap-southeast-2%2Fs3%2Faws4_request&X-Amz-Date=20210131T220102Z&X-Amz-Expires=900&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEMb%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaDmFwLXNvdXRoZWFzdC0yIkgwRgIhAOBLayOJ%2FFCmtZxyojHorFgjoBHwZuG1LFW%2BGf2mZr7wAiEA8m5feaz9rIfLcE%2BLkY6g5eoBdTPfO8LSmJW51aNHxtUq6wQIr%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgwyNzAyNDYzMzg4MzMiDDVTABphZ7WydANWuSq%2FBBYoaiaZk50E3VFhWe3JU%2BJZTDgrlG4PClfYKKSrIIM8YO3XD9cvS%2Bb81S25mFfPZZ3bWB3bqBeo7IxZH5SbB4Cqzrk7Yj3SQ0Rea%2BZrgiG6xFUrCrs6ZUFn3aL2MwQXF2FK8HKMSeXta0KBBp56ok7etd812RTgD8mOfrQ2zs2GptIYlXFYgRNjDn8Zxi3RJEHX8Snr6cJF6EobgqWthIwPewi0YLCVzLXugod%2Fb7b46GfiDhy6qqTXQON3s9KJmrOOO5Xu%2FlxuFP%2F1fzT7DD2wcIAxzCCegUSTj0vxLc3lcgjfB3xCIM9nGgHnBAhDiA8u3OcTNV78S1Rg8hC8OZm0nwF0sNHB5rChi95Mn6Ia%2BF%2BBeoLvp%2BLByf3VPGPkRln5sX08DsKiB70qwQ5sBMkNieYAPNPeO9stqQlPOlpH3VQ0%2B21V6fC8jv77Klccex7TS%2BFZYTqZHg4unfcm%2FzR2QEEybmhZdE52oJijmF04VW7%2FYly1hHwRX0IyBIc1bF8CKJWuW16or5mbBDGnmNZI3KkzrFK7jaxe3k50jjBrV6bcxaTlTxUs1e%2BlLOqOf3xmDPDZrmDaV6928Q7ASeqLcycZGmCQt%2BVpkyHRE8NaJnIejd0ilb3nW7pj1cGWpRZfhZJixrCBgvCGw4iEqsK19Y818zzZysUSKoSHiHVQ2Z5PEamAbWdhdOzgBFjmI%2FNby1AEl778at2Yxekw7YfY7J2E4HAhSnC2nc%2FHnx9%2FVkvADrzGO8yZVg6kETQPMJ7R3IAGOoQCxz%2FqwBZ3WJNdYCoP4kyIg2NxmJ3nthngfPBxkCT%2FzapjN8CJyQgxu10thRXvWgqKaHJdBE9sNhXdL2HwE5r44PdnDqsG%2FDj5HUv8g07WALb%2BEcXPfTJMJ4Xb1M6Ojw9uOWEL5VghjdtPBsqjjIhcTtLEbge8Byl2Te4ybOMuzLqDfAJEf8iI3Rncf0mKOCebih%2F5ftIVk2mJ6RS1a1OiL0PkxYggLaxr4o9bI3C6bSvykXkcIqaNwgg7Et%2Bcqa%2FGhuEgguaWpllqfBghniUabsPqPksKO0%2B2KgyuPDNC0AKQUIz445wljdTBo4w1NatZYmQtBxdlGXzYSW0egsLDRVmJ2zw%3D&X-Amz-Signature=558edd2730875dc127251f2fb432072d5f30bccd33fe3b87c9b20f1b84b32848&X-Amz-SignedHeaders=host&x-amz-user-agent=aws-sdk-js-v3-%40aws-sdk%2Fclient-s3%2F1.0.0-rc.4%20Mozilla%2F5.0%20%28iPhone%3B%20CPU%20iPhone%20OS%2013_2_3%20like%20Mac%20OS%20X%29%20AppleWebKit%2F605.1.15%20%28KHTML%2C%20like%20Gecko%29%20Version%2F13.0.3%20Mobile%2F15E148%20Safari%2F604.1%20aws-amplify%2F3.8.8%20js&x-id=GetObject']}\n      onAddImage={handleAdd}\n      // onRemoveImage={handleRemove}\n    />\n    {/* <ErrorMessage error={errors[name]} visible={touched[name]} /> */}\n  </Screen>\n)\n}\n\nfunction mapStateToProps (globalState) {\n  return {\n    user:globalState.user\n  }\n}\n\nexport default connect(mapStateToProps)(UserDetails)\n\nconst styles = StyleSheet.create({\n  screen: {\n    backgroundColor: colors.white,\n  },\n  container: {\n    marginVertical: 20,\n  },\n  logo: {\n    width: 66,\n    height: 58,\n  },\n})\n"]},"metadata":{},"sourceType":"module"}