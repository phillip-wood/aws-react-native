{"ast":null,"code":"import { Auth } from 'aws-amplify';\nimport { fetchAuthUser } from \"../actions/index\";\nexport function authSignUp(username, password, preferred_username, picture, navigation) {\n  Auth.signUp({\n    username: username,\n    password: password,\n    attributes: {\n      preferred_username: preferred_username,\n      picture: picture\n    }\n  }).then(navigation.navigate('ConfirmSignUp')).catch(function (err) {\n    return console.log('❌ Error Signing Up', err);\n  });\n}\nexport function updatePreferred_username(payload, dispatch, navigation) {\n  Auth.currentAuthenticatedUser().then(function (user) {\n    Auth.updateUserAttributes(user, {\n      \"preferred_username\": payload\n    });\n  }).then(dispatch(fetchAuthUser())).catch(function (err) {\n    return console.log('❌ Error Updating Details', err);\n  });\n}\nexport function updatePassword(oldPassword, newPassword) {\n  Auth.currentAuthenticatedUser().then(function (user) {\n    Auth.changePassword(user, oldPassword, newPassword);\n  }).then(alert('Password', \"\")).catch(function (err) {\n    return console.log('❌ Error Updating Details', err);\n  });\n}","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/apis/auth.js"],"names":["Auth","fetchAuthUser","authSignUp","username","password","preferred_username","picture","navigation","signUp","attributes","then","navigate","catch","err","console","log","updatePreferred_username","payload","dispatch","currentAuthenticatedUser","user","updateUserAttributes","updatePassword","oldPassword","newPassword","changePassword","alert"],"mappings":"AAAA,SAASA,IAAT,QAAqB,aAArB;AACA,SAASC,aAAT;AAGA,OAAO,SAASC,UAAT,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,kBAAzC,EAA6DC,OAA7D,EAAsEC,UAAtE,EAAmF;AACxFP,EAAAA,IAAI,CAACQ,MAAL,CAAY;AAAEL,IAAAA,QAAQ,EAARA,QAAF;AAAYC,IAAAA,QAAQ,EAARA,QAAZ;AAAsBK,IAAAA,UAAU,EAAE;AAAEJ,MAAAA,kBAAkB,EAAlBA,kBAAF;AAAsBC,MAAAA,OAAO,EAAPA;AAAtB;AAAlC,GAAZ,EACGI,IADH,CACSH,UAAU,CAACI,QAAX,CAAqB,eAArB,CADT,EAEGC,KAFH,CAEU,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAa,oBAAb,EAAoCF,GAApC,CAAJ;AAAA,GAFb;AAGD;AAGD,OAAO,SAASG,wBAAT,CAAmCC,OAAnC,EAA4CC,QAA5C,EAAsDX,UAAtD,EAAmE;AACxEP,EAAAA,IAAI,CAACmB,wBAAL,GACGT,IADH,CACS,UAAAU,IAAI,EAAI;AAAEpB,IAAAA,IAAI,CAACqB,oBAAL,CAA2BD,IAA3B,EAAiC;AAAE,4BAAsBH;AAAxB,KAAjC;AAAoE,GADvF,EAEGP,IAFH,CAESQ,QAAQ,CAAEjB,aAAa,EAAf,CAFjB,EAGGW,KAHH,CAGU,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAa,0BAAb,EAAyCF,GAAzC,CAAJ;AAAA,GAHb;AAID;AAGD,OAAO,SAASS,cAAT,CAAyBC,WAAzB,EAAsCC,WAAtC,EAAoD;AACzDxB,EAAAA,IAAI,CAACmB,wBAAL,GACGT,IADH,CACS,UAAAU,IAAI,EAAI;AAAEpB,IAAAA,IAAI,CAACyB,cAAL,CAAqBL,IAArB,EAA2BG,WAA3B,EAAwCC,WAAxC;AAAuD,GAD1E,EAEGd,IAFH,CAESgB,KAAK,CAAC,UAAD,EAAa,EAAb,CAFd,EAGGd,KAHH,CAGU,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAa,0BAAb,EAAyCF,GAAzC,CAAJ;AAAA,GAHb;AAID","sourcesContent":["import { Auth } from 'aws-amplify'\nimport { fetchAuthUser } from '../actions/index'\n\n//used by Register screen\nexport function authSignUp( username, password, preferred_username, picture, navigation ) {\n  Auth.signUp({ username, password, attributes: { preferred_username, picture } })\n    .then( navigation.navigate( 'ConfirmSignUp' ))\n    .catch( err => console.log( '❌ Error Signing Up' , err ))\n}\n\n//used by UserDetails screen\nexport function updatePreferred_username( payload, dispatch, navigation ) { \n  Auth.currentAuthenticatedUser()\n    .then( user => { Auth.updateUserAttributes( user, { \"preferred_username\": payload })}) \n    .then( dispatch( fetchAuthUser() ) )\n    .catch( err => console.log( '❌ Error Updating Details', err ))\n}\n\n//used by UserDetails screen\nexport function updatePassword( oldPassword, newPassword ) { \n  Auth.currentAuthenticatedUser()\n    .then( user => { Auth.changePassword( user, oldPassword, newPassword ) })\n    .then( alert('Password', \"\") ) \n    .catch( err => console.log( '❌ Error Updating Details', err ))\n}\n"]},"metadata":{},"sourceType":"module"}