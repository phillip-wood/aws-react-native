{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Auth } from 'aws-amplify';\nexport function authSignUp(username, password, preferred_username, picture, navigation) {\n  return _regeneratorRuntime.async(function authSignUp$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('test');\n          _context.prev = 1;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(Auth.signUp({\n            username: username,\n            password: password,\n            attributes: {\n              preferred_username: preferred_username,\n              picture: picture\n            }\n          }));\n\n        case 4:\n          console.log('✅ Sign-up Confirmed');\n          navigation.navigate('ConfirmSignUp');\n          _context.next = 11;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](1);\n          console.log('❌ Error signing up...', _context.t0);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[1, 8]], Promise);\n}\nexport function updateAuthUserAttributes(property, payload) {\n  var user;\n  return _regeneratorRuntime.async(function updateAuthUserAttributes$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(Auth.currentAuthenticatedUser());\n\n        case 3:\n          user = _context2.sent;\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(Auth.updateUserAttributes(user, {\n            'preferred_username': payload\n          }));\n\n        case 6:\n          _context2.next = 11;\n          break;\n\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log('❌ Error Updating Details', _context2.t0);\n\n        case 11:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n}","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/apis/auth.js"],"names":["Auth","authSignUp","username","password","preferred_username","picture","navigation","console","log","signUp","attributes","navigate","updateAuthUserAttributes","property","payload","currentAuthenticatedUser","user","updateUserAttributes"],"mappings":";AAAA,SAASA,IAAT,QAAqB,aAArB;AAGA,OAAO,SAAeC,UAAf,CAA2BC,QAA3B,EAAqCC,QAArC,EAA+CC,kBAA/C,EAAmEC,OAAnE,EAA4EC,UAA5E;AAAA;AAAA;AAAA;AAAA;AACHC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AADG;AAAA;AAAA,2CAGKR,IAAI,CAACS,MAAL,CAAY;AAAEP,YAAAA,QAAQ,EAARA,QAAF;AAAYC,YAAAA,QAAQ,EAARA,QAAZ;AAAsBO,YAAAA,UAAU,EAAE;AAAEN,cAAAA,kBAAkB,EAAlBA,kBAAF;AAAsBC,cAAAA,OAAO,EAAPA;AAAtB;AAAlC,WAAZ,CAHL;;AAAA;AAIDE,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAF,UAAAA,UAAU,CAACK,QAAX,CAAoB,eAApB;AALC;AAAA;;AAAA;AAAA;AAAA;AASDJ,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;;AATC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcP,OAAO,SAAeI,wBAAf,CAAwCC,QAAxC,EAAkDC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAGkBd,IAAI,CAACe,wBAAL,EAHlB;;AAAA;AAGKC,UAAAA,IAHL;AAAA;AAAA,2CAKOhB,IAAI,CAACiB,oBAAL,CAA0BD,IAA1B,EAAgC;AACtC,kCAAsBF;AADgB,WAAhC,CALP;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUOP,UAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;;AAVP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { Auth } from 'aws-amplify'\n\n//used by Register screen\nexport async function authSignUp( username, password, preferred_username, picture, navigation ) {\n    console.log('test')\n    try {\n      await Auth.signUp({ username, password, attributes: { preferred_username, picture } })\n      console.log('✅ Sign-up Confirmed')\n      navigation.navigate('ConfirmSignUp')\n    } \n    \n    catch (error) {\n      console.log('❌ Error signing up...', error)\n    }\n}\n\n//used by UserDetails screen\nexport async function updateAuthUserAttributes(property, payload) {\n    try {\n    \n        let user = await Auth.currentAuthenticatedUser();\n\n        await Auth.updateUserAttributes(user, {\n        'preferred_username': payload\n        })\n    }\n    catch (error) {\n              console.log('❌ Error Updating Details', error)\n            }\n}\n"]},"metadata":{},"sourceType":"module"}