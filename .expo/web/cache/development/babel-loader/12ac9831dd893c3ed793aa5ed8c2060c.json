{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/phil/Workspace/aws-react-native/app/screens/auth/Register.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Auth } from 'aws-amplify';\nimport Screen from \"../../componets/Screen\";\nimport colors from \"../../config/colors\";\nimport AppTextInput from \"../../componets/AppTextInput\";\nimport AppButton from \"../../componets/AppButton\";\nimport { register2 } from \"../../../apis/auth\";\n\nfunction Register(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      preferred_username = _useState6[0],\n      setPreferred_username = _useState6[1];\n\n  var picture = 'https://sneakedbucket212939-staging.s3-ap-southeast-2.amazonaws.com/default-picture.png';\n\n  function register() {\n    return _regeneratorRuntime.async(function register$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Auth.signUp({\n              username: username,\n              password: password,\n              attributes: {\n                preferred_username: preferred_username,\n                picture: picture\n              }\n            }));\n\n          case 3:\n            console.log('✅ Sign-up Confirmed');\n            navigation.navigate('ConfirmSignUp');\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('❌ Error signing up...', _context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  }\n\n  return React.createElement(Screen, {\n    style: styles.screen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, React.createElement(Image, {\n    style: styles.logo,\n    source: require(\"../../../assets/sneaked-icon-shoe-yellow.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"Create a new account\"), React.createElement(AppTextInput, {\n    value: username,\n    onChangeText: function onChangeText(text) {\n      return setUsername(text);\n    },\n    leftIcon: \"email\",\n    placeholder: \"Enter email\",\n    autoCapitalize: \"none\",\n    keyboardType: \"email-address\",\n    textContentType: \"emailAddress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), React.createElement(AppTextInput, {\n    value: preferred_username,\n    onChangeText: function onChangeText(text) {\n      return setPreferred_username(text);\n    },\n    leftIcon: \"account\",\n    placeholder: \"Enter username\",\n    autoCapitalize: \"none\",\n    keyboardType: \"email-address\",\n    textContentType: \"emailAddress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), React.createElement(AppTextInput, {\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    leftIcon: \"lock\",\n    placeholder: \"Enter password\",\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    secureTextEntry: true,\n    textContentType: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), React.createElement(AppButton, {\n    title: \"Sign Up\",\n    onPress: function onPress() {\n      return register2(username, password);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.footerButtonContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Login');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.forgotPasswordButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Already have an account? Sign In\")))));\n}\n\nexport default Register;\nvar styles = StyleSheet.create({\n  screen: {\n    backgroundColor: colors.black,\n    padding: 10\n  },\n  logo: {\n    width: 80,\n    height: 80,\n    alignSelf: \"center\",\n    marginTop: 50,\n    marginBottom: 20\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 20,\n    color: '#202020',\n    fontWeight: '500',\n    marginVertical: 15\n  },\n  footerButtonContainer: {\n    marginVertical: 15,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  forgotPasswordButtonText: {\n    color: colors.primary,\n    fontSize: 18,\n    fontWeight: '600'\n  }\n});","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/app/screens/auth/Register.js"],"names":["React","useState","Auth","Screen","colors","AppTextInput","AppButton","register2","Register","navigation","username","setUsername","password","setPassword","preferred_username","setPreferred_username","picture","register","signUp","attributes","console","log","navigate","styles","screen","logo","require","container","title","text","footerButtonContainer","forgotPasswordButtonText","StyleSheet","create","backgroundColor","black","padding","width","height","alignSelf","marginTop","marginBottom","flex","alignItems","fontSize","color","fontWeight","marginVertical","justifyContent","primary"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { View, Text, TouchableOpacity, StyleSheet, Image } from 'react-native'\nimport { Auth } from 'aws-amplify'\n\nimport Screen from \"../../componets/Screen\"\nimport colors from '../../config/colors'\nimport AppTextInput from '../../componets/AppTextInput'\nimport AppButton from '../../componets/AppButton'\nimport {register2} from '../../../apis/auth'\n\nfunction Register({ navigation }) {\n\n  // setup state to capture username email and password from inputs\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [preferred_username, setPreferred_username] = useState('')\n  const picture = 'https://sneakedbucket212939-staging.s3-ap-southeast-2.amazonaws.com/default-picture.png'\n\n  // aws sign function\n  async function register() {\n    try {\n      await Auth.signUp({ username, password, attributes: { preferred_username, picture } })\n      console.log('✅ Sign-up Confirmed')\n      navigation.navigate('ConfirmSignUp')\n    } \n    \n    catch (error) {\n      console.log('❌ Error signing up...', error)\n    }\n  }\n\n  return (\n    <Screen style={styles.screen}>\n        <Image style={styles.logo} source={require(\"../../../assets/sneaked-icon-shoe-yellow.png\")} />\n        <View style={styles.container}>\n        <Text style={styles.title}>Create a new account</Text>\n        <AppTextInput\n          value={username}\n          onChangeText={text => setUsername(text)}\n          leftIcon=\"email\"\n          placeholder=\"Enter email\"\n          autoCapitalize=\"none\"\n          keyboardType=\"email-address\"\n          textContentType=\"emailAddress\"\n        />\n        <AppTextInput\n          value={preferred_username}\n          onChangeText={text => setPreferred_username(text)}\n          leftIcon=\"account\"\n          placeholder=\"Enter username\"\n          autoCapitalize=\"none\"\n          keyboardType=\"email-address\"\n          textContentType=\"emailAddress\"\n        />\n        <AppTextInput\n          value={password}\n          onChangeText={text => setPassword(text)}\n          leftIcon=\"lock\"\n          placeholder=\"Enter password\"\n          autoCapitalize=\"none\"\n          autoCorrect={false}\n          secureTextEntry\n          textContentType=\"password\"\n        />\n        <AppButton title=\"Sign Up\" onPress={() => register2( username , password,)} />\n        <View style={styles.footerButtonContainer}>\n          <TouchableOpacity onPress={() => navigation.navigate('Login')}>\n            <Text style={styles.forgotPasswordButtonText}>\n              Already have an account? Sign In\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </Screen>\n  )\n}\n\nexport default Register\n\nconst styles = StyleSheet.create({\n  screen: {\n    backgroundColor: colors.black,\n    padding: 10,\n  },\n  logo: {\n    width: 80,\n    height: 80,\n    alignSelf: \"center\",\n    marginTop: 50,\n    marginBottom: 20,\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  title: {\n    fontSize: 20,\n    color: '#202020',\n    fontWeight: '500',\n    marginVertical: 15\n  },\n  footerButtonContainer: {\n    marginVertical: 15,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  forgotPasswordButtonText: {\n    color: colors.primary,\n    fontSize: 18,\n    fontWeight: '600'\n  }\n})\n\n"]},"metadata":{},"sourceType":"module"}