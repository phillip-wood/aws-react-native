{"ast":null,"code":"var _jsxFileName = \"/home/phil/Workspace/aws-react-native/app/screens/profile/UserDetails.js\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { connect } from \"react-redux\";\nimport Amplify, { Storage } from 'aws-amplify';\nimport { v4 as uuidv4 } from 'uuid';\nimport colors from \"../../config/colors\";\nimport Screen from \"../../componets/Screen\";\nimport ImageInputList from \"../../componets/ImageInputList\";\n\nfunction UserDetails(_ref) {\n  var navigation = _ref.navigation,\n      user = _ref.user;\n\n  var handleAdd = function handleAdd(uri) {\n    uploadToStorage(uri);\n    console.log(uri);\n  };\n\n  return React.createElement(Screen, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 3\n    }\n  }, React.createElement(Image, {\n    style: styles.logo,\n    source: {\n      uri: user.picture\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }));\n}\n\nfunction mapStateToProps(globalState) {\n  return {\n    user: globalState.user\n  };\n}\n\nexport default connect(mapStateToProps)(UserDetails);\nvar styles = StyleSheet.create({\n  screen: {\n    backgroundColor: colors.white\n  },\n  container: {\n    marginVertical: 20\n  },\n  logo: {\n    width: 66,\n    height: 58\n  }\n});","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/app/screens/profile/UserDetails.js"],"names":["React","connect","Amplify","Storage","v4","uuidv4","colors","Screen","ImageInputList","UserDetails","navigation","user","handleAdd","uri","uploadToStorage","console","log","styles","logo","picture","mapStateToProps","globalState","StyleSheet","create","screen","backgroundColor","white","container","marginVertical","width","height"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,OAAP,IAAkBC,OAAlB,QAAiC,aAAjC;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAEA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,OAAOC,cAAP;;AAIA,SAASC,WAAT,OAA2C;AAAA,MAApBC,UAAoB,QAApBA,UAAoB;AAAA,MAARC,IAAQ,QAARA,IAAQ;;AAgC3C,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAS;AACzBC,IAAAA,eAAe,CAACD,GAAD,CAAf;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACD,GAHD;;AAYA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACA,IAAA,KAAK,EAAEI,MAAM,CAACC,IADd;AAGA,IAAA,MAAM,EAAE;AACNL,MAAAA,GAAG,EAACF,IAAI,CAACQ;AADH,KAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAiBC;;AAED,SAASC,eAAT,CAA0BC,WAA1B,EAAuC;AACrC,SAAO;AACLV,IAAAA,IAAI,EAACU,WAAW,CAACV;AADZ,GAAP;AAGD;;AAED,eAAeV,OAAO,CAACmB,eAAD,CAAP,CAAyBX,WAAzB,CAAf;AAEA,IAAMQ,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,eAAe,EAAEnB,MAAM,CAACoB;AADlB,GADuB;AAI/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE;AADP,GAJoB;AAO/BV,EAAAA,IAAI,EAAE;AACJW,IAAAA,KAAK,EAAE,EADH;AAEJC,IAAAA,MAAM,EAAE;AAFJ;AAPyB,CAAlB,CAAf","sourcesContent":["import React from \"react\"\nimport { StyleSheet, Image } from \"react-native\"\nimport { connect } from \"react-redux\"\nimport Amplify, { Storage } from 'aws-amplify'\nimport { v4 as uuidv4 } from 'uuid'\n\nimport colors from \"../../config/colors\"\nimport Screen from \"../../componets/Screen\"\nimport ImageInputList from \"../../componets/ImageInputList\"\n\n\n\nfunction UserDetails({ navigation, user }) {\n\n  // const [picture, setPicture] = useState('')\n\n  // const uploadToStorage = async pathToImageFile => {\n  //   try {\n  //     const response = await fetch(pathToImageFile)\n      \n  //     const blob = await response.blob()\n      \n  //     Storage.put(`${uuidv4()}.jpeg`, 'Protected Content', blob, {\n  //       level: 'protected',\n  //       contentType: 'image/jpeg',\n  //     })\n  //   } catch (err) {\n  //     console.log(err)\n  //   }\n  // }\n\n\n//  async function userPic() {\n//   try {\n//     const userProfileUrl = await Storage.get('default-picture.png')\n//     console.log(userProfileUrl)\n//     return userProfileUrl\n//   } catch (error) {\n//     console.error('error accessing the user image',err)\n//   }\n//  }\n  \n  \n\nconst handleAdd = (uri) => {\n  uploadToStorage(uri)\n  console.log(uri)\n}\n\n// const handleRemove = (uri) => {\n//   setFieldValue(\n//     name,\n//     imageUris.filter((imageUri) => imageUri !== uri)\n//   )\n// }\n\nreturn (\n  <Screen>\n    <Image\n    style={styles.logo}\n    \n    source={{\n      uri:user.picture\n    }}\n    />  \n  {/* <ImageInputList\n      imageUris={[user.picture]}\n      onAddImage={handleAdd}\n      // onRemoveImage={handleRemove}\n    /> */}\n    {/* <ErrorMessage error={errors[name]} visible={touched[name]} /> */}\n  </Screen>\n)\n}\n\nfunction mapStateToProps (globalState) {\n  return {\n    user:globalState.user\n  }\n}\n\nexport default connect(mapStateToProps)(UserDetails)\n\nconst styles = StyleSheet.create({\n  screen: {\n    backgroundColor: colors.white,\n  },\n  container: {\n    marginVertical: 20,\n  },\n  logo: {\n    width: 66,\n    height: 58,\n  },\n})\n"]},"metadata":{},"sourceType":"module"}