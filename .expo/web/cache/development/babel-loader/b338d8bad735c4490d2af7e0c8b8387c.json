{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = renderApplication;\nexports.prerenderApplication = prerenderApplication;\n\nvar _invariant = require('fbjs/lib/invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _server = require('react-dom/server');\n\nvar _server2 = _interopRequireDefault(_server);\n\nvar _ReactNativeApp = require(\"./ReactNativeApp\");\n\nvar _ReactNativeApp2 = _interopRequireDefault(_ReactNativeApp);\n\nvar _StyleSheet = require(\"../../apis/StyleSheet\");\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar renderStyleSheetToString = function renderStyleSheetToString() {\n  return _StyleSheet2.default.renderToString();\n};\n\nvar styleAsElement = function styleAsElement(style) {\n  return _react2.default.createElement('style', {\n    dangerouslySetInnerHTML: {\n      __html: style\n    },\n    id: _StyleSheet2.default.elementId\n  });\n};\n\nvar styleAsTagString = function styleAsTagString(style) {\n  return '<style id=\"' + _StyleSheet2.default.elementId + '\">' + style + '</style>';\n};\n\nfunction renderApplication(RootComponent, initialProps, rootTag) {\n  (0, _invariant2.default)(rootTag, 'Expect to have a valid rootTag, instead got ', rootTag);\n  var styleElement = document.getElementById(_StyleSheet2.default.elementId);\n\n  if (!styleElement) {\n    rootTag.insertAdjacentHTML('beforebegin', styleAsTagString(renderStyleSheetToString()));\n  }\n\n  var component = _react2.default.createElement(_ReactNativeApp2.default, {\n    initialProps: initialProps,\n    rootComponent: RootComponent,\n    rootTag: rootTag\n  });\n\n  _reactDom2.default.render(component, rootTag);\n}\n\nfunction prerenderApplication(RootComponent, initialProps) {\n  var component = _react2.default.createElement(_ReactNativeApp2.default, {\n    initialProps: initialProps,\n    rootComponent: RootComponent\n  });\n\n  var html = _server2.default.renderToString(component);\n\n  var style = renderStyleSheetToString();\n  var styleElement = styleAsElement(style);\n  return {\n    html: html,\n    style: style,\n    styleElement: styleElement\n  };\n}","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/node_modules/react-native-web/dist/apis/AppRegistry/renderApplication.js"],"names":["Object","defineProperty","exports","value","default","renderApplication","prerenderApplication","_invariant","require","_invariant2","_interopRequireDefault","_react","_react2","_reactDom","_reactDom2","_server","_server2","_ReactNativeApp","_ReactNativeApp2","_StyleSheet","_StyleSheet2","obj","__esModule","renderStyleSheetToString","renderToString","styleAsElement","style","createElement","dangerouslySetInnerHTML","__html","id","elementId","styleAsTagString","RootComponent","initialProps","rootTag","styleElement","document","getElementById","insertAdjacentHTML","component","rootComponent","render","html"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = renderApplication;\nexports.prerenderApplication = prerenderApplication;\n\nvar _invariant = require('fbjs/lib/invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _server = require('react-dom/server');\n\nvar _server2 = _interopRequireDefault(_server);\n\nvar _ReactNativeApp = require('./ReactNativeApp');\n\nvar _ReactNativeApp2 = _interopRequireDefault(_ReactNativeApp);\n\nvar _StyleSheet = require('../../apis/StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) 2015-present, Nicolas Gallagher.\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * \n */\n\nvar renderStyleSheetToString = function renderStyleSheetToString() {\n  return _StyleSheet2.default.renderToString();\n};\nvar styleAsElement = function styleAsElement(style) {\n  return _react2.default.createElement('style', { dangerouslySetInnerHTML: { __html: style }, id: _StyleSheet2.default.elementId });\n};\nvar styleAsTagString = function styleAsTagString(style) {\n  return '<style id=\"' + _StyleSheet2.default.elementId + '\">' + style + '</style>';\n};\n\nfunction renderApplication(RootComponent, initialProps, rootTag) {\n  (0, _invariant2.default)(rootTag, 'Expect to have a valid rootTag, instead got ', rootTag);\n\n  // insert style sheet if needed\n  var styleElement = document.getElementById(_StyleSheet2.default.elementId);\n  if (!styleElement) {\n    rootTag.insertAdjacentHTML('beforebegin', styleAsTagString(renderStyleSheetToString()));\n  }\n\n  var component = _react2.default.createElement(_ReactNativeApp2.default, {\n    initialProps: initialProps,\n    rootComponent: RootComponent,\n    rootTag: rootTag\n  });\n  _reactDom2.default.render(component, rootTag);\n}\n\nfunction prerenderApplication(RootComponent, initialProps) {\n  var component = _react2.default.createElement(_ReactNativeApp2.default, {\n    initialProps: initialProps,\n    rootComponent: RootComponent\n  });\n  var html = _server2.default.renderToString(component);\n  var style = renderStyleSheetToString();\n  var styleElement = styleAsElement(style);\n  return { html: html, style: style, styleElement: styleElement };\n}"]},"metadata":{},"sourceType":"script"}