{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Auth } from 'aws-amplify';\nvar authUser = Auth.currentAuthenticatedUser();\n\nfunction register2(username, password, preferred_username, pic) {\n  return _regeneratorRuntime.async(function register2$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(Auth.signUp({\n            username: username,\n            password: password,\n            attributes: {\n              preferred_username: preferred_username,\n              picture: picture\n            }\n          }));\n\n        case 3:\n          console.log('✅ Sign-up Confirmed');\n          navigation.navigate('ConfirmSignUp');\n          _context.next = 10;\n          break;\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          console.log('❌ Error signing up...', _context.t0);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\n\nfunction updateAuthUserAttributes(property, payload) {\n  return _regeneratorRuntime.async(function updateAuthUserAttributes$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(Auth.updateUserAttributes(authUser, _defineProperty({}, property, [payload])));\n\n        case 3:\n          _context2.next = 8;\n          break;\n\n        case 5:\n          _context2.prev = 5;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error('error updating details', err);\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\n\nexport default {\n  updateAuthUserAttributes: updateAuthUserAttributes,\n  register2: register2\n};","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/apis/auth.js"],"names":["Auth","authUser","currentAuthenticatedUser","register2","username","password","preferred_username","pic","signUp","attributes","picture","console","log","navigation","navigate","updateAuthUserAttributes","property","payload","updateUserAttributes","error","err"],"mappings":";;AAAA,SAASA,IAAT,QAAqB,aAArB;AAEA,IAAMC,QAAQ,GAAGD,IAAI,CAACE,wBAAL,EAAjB;;AAEA,SAAeC,SAAf,CAA0BC,QAA1B,EAAoCC,QAApC,EAA8CC,kBAA9C,EAAkEC,GAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEYP,IAAI,CAACQ,MAAL,CAAY;AAAEJ,YAAAA,QAAQ,EAARA,QAAF;AAAYC,YAAAA,QAAQ,EAARA,QAAZ;AAAsBI,YAAAA,UAAU,EAAE;AAAEH,cAAAA,kBAAkB,EAAlBA,kBAAF;AAAsBI,cAAAA,OAAO,EAAPA;AAAtB;AAAlC,WAAZ,CAFZ;;AAAA;AAGMC,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAC,UAAAA,UAAU,CAACC,QAAX,CAAoB,eAApB;AAJN;AAAA;;AAAA;AAAA;AAAA;AAQMH,UAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;;AARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAaA,SAAeG,wBAAf,CAAwCC,QAAxC,EAAkDC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAGcjB,IAAI,CAACkB,oBAAL,CAA0BjB,QAA1B,sBACDe,QADC,EACS,CAACC,OAAD,CADT,EAHd;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQQN,UAAAA,OAAO,CAACQ,KAAR,CAAc,wBAAd,EAAuCC,GAAvC;;AARR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYA,eAAe;AACXL,EAAAA,wBAAwB,EAAxBA,wBADW;AAEXZ,EAAAA,SAAS,EAATA;AAFW,CAAf","sourcesContent":["import { Auth } from 'aws-amplify'\n\nconst authUser = Auth.currentAuthenticatedUser()\n\nasync function register2( username, password, preferred_username, pic) {\n    try {\n      await Auth.signUp({ username, password, attributes: { preferred_username, picture } })\n      console.log('✅ Sign-up Confirmed')\n      navigation.navigate('ConfirmSignUp')\n    } \n    \n    catch (error) {\n      console.log('❌ Error signing up...', error)\n    }\n}\n\n\nasync function updateAuthUserAttributes(property, payload) {\n    \n    try{\n        await Auth.updateUserAttributes(authUser, {\n            [property]:[payload]\n        })\n    }\n    catch (error) {\n        console.error('error updating details',err)\n    }\n}\n\nexport default {\n    updateAuthUserAttributes,\n    register2\n}\n\n\n  \n// Storage.configure({ level: 'protected' })\n\n// Storage.list('profile-pics/', { level: 'protected' })\n// .then(result => console.log(result))\n// .catch(err => console.log(err))\n\n// const [picture, setPicture] = useState(user.picture)\n\n// const uploadToStorage = async pathToImageFile => {\n//   try {\n//     const response = await fetch(pathToImageFile)\n//     console.log(response)\n//     const blob = await response.blob()\n//     console.log(blob)\n//     Storage.put(`profile-pics/til.jpeg`, blob, {\n//       contentType: 'image/jpeg',\n//     })\n//   } catch (err) {\n//     console.log(err)\n//   }\n// }\n\n// const getfromStorage = async () => {\n//   try {\n//     const response = await Storage.get('profile-pics/til.jpeg')\n//     setPicture(response)\n//     }\n//   catch (err) {\n//     console.error('error accessing the user image',err)\n//   }\n// }\n\n// getfromStorage()\n// console.log(picture)\n\n// const handleAdd = (uri) => {\n// uploadToStorage(uri)\n\n// }"]},"metadata":{},"sourceType":"module"}