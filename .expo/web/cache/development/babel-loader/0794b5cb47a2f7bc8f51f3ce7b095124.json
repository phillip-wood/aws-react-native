{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _get = function get(_x, _x2, _x3) {\n  var _again = true;\n\n  _function: while (_again) {\n    var object = _x,\n        property = _x2,\n        receiver = _x3;\n    desc = parent = getter = undefined;\n    _again = false;\n    if (object === null) object = Function.prototype;\n    var desc = Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        continue _function;\n      }\n    } else if ('value' in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  }\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _calculateNodeHeight = require(\"./calculateNodeHeight\");\n\nvar _calculateNodeHeight2 = _interopRequireDefault(_calculateNodeHeight);\n\nvar emptyFunction = function emptyFunction() {};\n\nvar TextareaAutosize = function (_React$Component) {\n  _inherits(TextareaAutosize, _React$Component);\n\n  _createClass(TextareaAutosize, null, [{\n    key: 'propTypes',\n    value: {\n      value: _react2['default'].PropTypes.string,\n      onChange: _react2['default'].PropTypes.func,\n      onHeightChange: _react2['default'].PropTypes.func,\n      useCacheForDOMMeasurements: _react2['default'].PropTypes.bool,\n      rows: _react2['default'].PropTypes.number,\n      minRows: _react2['default'].PropTypes.number,\n      maxRows: _react2['default'].PropTypes.number\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      onChange: emptyFunction,\n      onHeightChange: emptyFunction,\n      useCacheForDOMMeasurements: false\n    },\n    enumerable: true\n  }]);\n\n  function TextareaAutosize(props) {\n    _classCallCheck(this, TextareaAutosize);\n\n    _get(Object.getPrototypeOf(TextareaAutosize.prototype), 'constructor', this).call(this, props);\n\n    this.state = {\n      height: null,\n      minHeight: -Infinity,\n      maxHeight: Infinity\n    };\n    this._onNextFrameActionId = null;\n    this._rootDOMNode = null;\n    this._onChange = this._onChange.bind(this);\n    this._resizeComponent = this._resizeComponent.bind(this);\n    this._onRootDOMNode = this._onRootDOMNode.bind(this);\n  }\n\n  _createClass(TextareaAutosize, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var valueLink = _props.valueLink;\n      var onChange = _props.onChange;\n\n      var props = _objectWithoutProperties(_props, ['valueLink', 'onChange']);\n\n      props = _extends({}, props);\n\n      if (typeof valueLink === 'object') {\n        props.value = this.props.valueLink.value;\n      }\n\n      props.style = _extends({}, props.style, {\n        height: this.state.height\n      });\n      var maxHeight = Math.max(props.style.maxHeight ? props.style.maxHeight : Infinity, this.state.maxHeight);\n\n      if (maxHeight < this.state.height) {\n        props.style.overflow = 'hidden';\n      }\n\n      return _react2['default'].createElement('textarea', _extends({}, props, {\n        onChange: this._onChange,\n        ref: this._onRootDOMNode\n      }));\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._resizeComponent();\n\n      window.addEventListener('resize', this._resizeComponent);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps() {\n      this._clearNextFrame();\n\n      this._onNextFrameActionId = onNextFrame(this._resizeComponent);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.height !== prevState.height) {\n        this.props.onHeightChange(this.state.height);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._clearNextFrame();\n\n      window.removeEventListener('resize', this._resizeComponent);\n    }\n  }, {\n    key: '_clearNextFrame',\n    value: function _clearNextFrame() {\n      if (this._onNextFrameActionId) {\n        clearNextFrameAction(this._onNextFrameActionId);\n      }\n    }\n  }, {\n    key: '_onRootDOMNode',\n    value: function _onRootDOMNode(node) {\n      this._rootDOMNode = node;\n    }\n  }, {\n    key: '_onChange',\n    value: function _onChange(e) {\n      this._resizeComponent();\n\n      var _props2 = this.props;\n      var valueLink = _props2.valueLink;\n      var onChange = _props2.onChange;\n\n      if (valueLink) {\n        valueLink.requestChange(e.target.value);\n      } else {\n        onChange(e);\n      }\n    }\n  }, {\n    key: '_resizeComponent',\n    value: function _resizeComponent() {\n      var useCacheForDOMMeasurements = this.props.useCacheForDOMMeasurements;\n      this.setState((0, _calculateNodeHeight2['default'])(this._rootDOMNode, useCacheForDOMMeasurements, this.props.rows || this.props.minRows, this.props.maxRows));\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      this._rootDOMNode.focus();\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this._rootDOMNode.blur();\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._rootDOMNode.value;\n    },\n    set: function set(val) {\n      this._rootDOMNode.value = val;\n    }\n  }, {\n    key: 'selectionStart',\n    get: function get() {\n      return this._rootDOMNode.selectionStart;\n    },\n    set: function set(selectionStart) {\n      this._rootDOMNode.selectionStart = selectionStart;\n    }\n  }, {\n    key: 'selectionEnd',\n    get: function get() {\n      return this._rootDOMNode.selectionEnd;\n    },\n    set: function set(selectionEnd) {\n      this._rootDOMNode.selectionEnd = selectionEnd;\n    }\n  }]);\n\n  return TextareaAutosize;\n}(_react2['default'].Component);\n\nexports['default'] = TextareaAutosize;\n\nfunction onNextFrame(cb) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(cb);\n  }\n\n  return window.setTimeout(cb, 1);\n}\n\nfunction clearNextFrameAction(nextFrameId) {\n  if (window.cancelAnimationFrame) {\n    window.cancelAnimationFrame(nextFrameId);\n  } else {\n    window.clearTimeout(nextFrameId);\n  }\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/node_modules/react-native-web/node_modules/react-textarea-autosize/lib/TextareaAutosize.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_get","get","_x","_x2","_x3","_again","_function","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","getPrototypeOf","_interopRequireDefault","obj","__esModule","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_react","require","_react2","_calculateNodeHeight","_calculateNodeHeight2","emptyFunction","TextareaAutosize","_React$Component","PropTypes","string","onChange","func","onHeightChange","useCacheForDOMMeasurements","bool","rows","number","minRows","maxRows","state","height","minHeight","Infinity","maxHeight","_onNextFrameActionId","_rootDOMNode","_onChange","bind","_resizeComponent","_onRootDOMNode","render","_props","valueLink","style","Math","max","overflow","createElement","ref","componentDidMount","window","addEventListener","componentWillReceiveProps","_clearNextFrame","onNextFrame","componentDidUpdate","prevProps","prevState","componentWillUnmount","removeEventListener","clearNextFrameAction","node","e","_props2","requestChange","setState","focus","blur","set","val","selectionStart","selectionEnd","Component","cb","requestAnimationFrame","setTimeout","nextFrameId","cancelAnimationFrame","clearTimeout","module"],"mappings":"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","sourcesContent":["/**\n * <TextareaAutosize />\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _calculateNodeHeight = require('./calculateNodeHeight');\n\nvar _calculateNodeHeight2 = _interopRequireDefault(_calculateNodeHeight);\n\nvar emptyFunction = function emptyFunction() {};\n\nvar TextareaAutosize = (function (_React$Component) {\n  _inherits(TextareaAutosize, _React$Component);\n\n  _createClass(TextareaAutosize, null, [{\n    key: 'propTypes',\n    value: {\n      /**\n       * Current textarea value.\n       */\n      value: _react2['default'].PropTypes.string,\n\n      /**\n       * Callback on value change.\n       */\n      onChange: _react2['default'].PropTypes.func,\n\n      /**\n       * Callback on height changes.\n       */\n      onHeightChange: _react2['default'].PropTypes.func,\n\n      /**\n       * Try to cache DOM measurements performed by component so that we don't\n       * touch DOM when it's not needed.\n       *\n       * This optimization doesn't work if we dynamically style <textarea />\n       * component.\n       */\n      useCacheForDOMMeasurements: _react2['default'].PropTypes.bool,\n\n      /**\n       * Minimal numbder of rows to show.\n       */\n      rows: _react2['default'].PropTypes.number,\n\n      /**\n       * Alias for `rows`.\n       */\n      minRows: _react2['default'].PropTypes.number,\n\n      /**\n       * Maximum number of rows to show.\n       */\n      maxRows: _react2['default'].PropTypes.number\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      onChange: emptyFunction,\n      onHeightChange: emptyFunction,\n      useCacheForDOMMeasurements: false\n    },\n    enumerable: true\n  }]);\n\n  function TextareaAutosize(props) {\n    _classCallCheck(this, TextareaAutosize);\n\n    _get(Object.getPrototypeOf(TextareaAutosize.prototype), 'constructor', this).call(this, props);\n    this.state = {\n      height: null,\n      minHeight: -Infinity,\n      maxHeight: Infinity\n    };\n    this._onNextFrameActionId = null;\n    this._rootDOMNode = null;\n    this._onChange = this._onChange.bind(this);\n    this._resizeComponent = this._resizeComponent.bind(this);\n    this._onRootDOMNode = this._onRootDOMNode.bind(this);\n  }\n\n  _createClass(TextareaAutosize, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var valueLink = _props.valueLink;\n      var onChange = _props.onChange;\n\n      var props = _objectWithoutProperties(_props, ['valueLink', 'onChange']);\n\n      props = _extends({}, props);\n      if (typeof valueLink === 'object') {\n        props.value = this.props.valueLink.value;\n      }\n      props.style = _extends({}, props.style, {\n        height: this.state.height\n      });\n      var maxHeight = Math.max(props.style.maxHeight ? props.style.maxHeight : Infinity, this.state.maxHeight);\n      if (maxHeight < this.state.height) {\n        props.style.overflow = 'hidden';\n      }\n      return _react2['default'].createElement('textarea', _extends({}, props, {\n        onChange: this._onChange,\n        ref: this._onRootDOMNode\n      }));\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._resizeComponent();\n      window.addEventListener('resize', this._resizeComponent);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps() {\n      // Re-render with the new content then recalculate the height as required.\n      this._clearNextFrame();\n      this._onNextFrameActionId = onNextFrame(this._resizeComponent);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      // Invoke callback when old height does not equal to new one.\n      if (this.state.height !== prevState.height) {\n        this.props.onHeightChange(this.state.height);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // Remove any scheduled events to prevent manipulating the node after it's\n      // been unmounted.\n      this._clearNextFrame();\n      window.removeEventListener('resize', this._resizeComponent);\n    }\n  }, {\n    key: '_clearNextFrame',\n    value: function _clearNextFrame() {\n      if (this._onNextFrameActionId) {\n        clearNextFrameAction(this._onNextFrameActionId);\n      }\n    }\n  }, {\n    key: '_onRootDOMNode',\n    value: function _onRootDOMNode(node) {\n      this._rootDOMNode = node;\n    }\n  }, {\n    key: '_onChange',\n    value: function _onChange(e) {\n      this._resizeComponent();\n      var _props2 = this.props;\n      var valueLink = _props2.valueLink;\n      var onChange = _props2.onChange;\n\n      if (valueLink) {\n        valueLink.requestChange(e.target.value);\n      } else {\n        onChange(e);\n      }\n    }\n  }, {\n    key: '_resizeComponent',\n    value: function _resizeComponent() {\n      var useCacheForDOMMeasurements = this.props.useCacheForDOMMeasurements;\n\n      this.setState((0, _calculateNodeHeight2['default'])(this._rootDOMNode, useCacheForDOMMeasurements, this.props.rows || this.props.minRows, this.props.maxRows));\n    }\n\n    /**\n     * Read the current value of <textarea /> from DOM.\n     */\n  }, {\n    key: 'focus',\n\n    /**\n     * Put focus on a <textarea /> DOM element.\n     */\n    value: function focus() {\n      this._rootDOMNode.focus();\n    }\n\n    /**\n     * Shifts focus away from a <textarea /> DOM element.\n     */\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this._rootDOMNode.blur();\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this._rootDOMNode.value;\n    },\n\n    /**\n     * Set the current value of <textarea /> DOM node.\n     */\n    set: function set(val) {\n      this._rootDOMNode.value = val;\n    }\n\n    /**\n     * Read the current selectionStart of <textarea /> from DOM.\n     */\n  }, {\n    key: 'selectionStart',\n    get: function get() {\n      return this._rootDOMNode.selectionStart;\n    },\n\n    /**\n     * Set the current selectionStart of <textarea /> DOM node.\n     */\n    set: function set(selectionStart) {\n      this._rootDOMNode.selectionStart = selectionStart;\n    }\n\n    /**\n     * Read the current selectionEnd of <textarea /> from DOM.\n     */\n  }, {\n    key: 'selectionEnd',\n    get: function get() {\n      return this._rootDOMNode.selectionEnd;\n    },\n\n    /**\n     * Set the current selectionEnd of <textarea /> DOM node.\n     */\n    set: function set(selectionEnd) {\n      this._rootDOMNode.selectionEnd = selectionEnd;\n    }\n  }]);\n\n  return TextareaAutosize;\n})(_react2['default'].Component);\n\nexports['default'] = TextareaAutosize;\n\nfunction onNextFrame(cb) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(cb);\n  }\n  return window.setTimeout(cb, 1);\n}\n\nfunction clearNextFrameAction(nextFrameId) {\n  if (window.cancelAnimationFrame) {\n    window.cancelAnimationFrame(nextFrameId);\n  } else {\n    window.clearTimeout(nextFrameId);\n  }\n}\nmodule.exports = exports['default'];\n"]},"metadata":{},"sourceType":"script"}