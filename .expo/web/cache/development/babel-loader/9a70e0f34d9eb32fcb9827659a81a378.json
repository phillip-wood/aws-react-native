{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { Auth } from 'aws-amplify';\nimport { fetchAuthUser } from \"../actions/index\";\nexport function authSignUp(username, password, preferred_username, picture, navigation) {\n  try {\n    Auth.signUp({\n      username: username,\n      password: password,\n      attributes: {\n        preferred_username: preferred_username,\n        picture: picture\n      }\n    });\n    console.log('✅ Sign-up Confirmed');\n    navigation.navigate('ConfirmSignUp');\n  } catch (error) {\n    console.log('❌ Error signing up...', error);\n  }\n}\nexport function updateAuthUserAttributes(property, payload, dispatch) {\n  var user;\n  return _regeneratorRuntime.async(function updateAuthUserAttributes$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(Auth.currentAuthenticatedUser());\n\n        case 3:\n          user = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(Auth.updateUserAttributes(user, _defineProperty({}, property, payload)).then(dispatch(fetchAuthUser())));\n\n        case 6:\n          _context.next = 11;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          console.log('❌ Error Updating Details', _context.t0);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n}","map":{"version":3,"sources":["/home/phil/Workspace/aws-react-native/apis/auth.js"],"names":["Auth","fetchAuthUser","authSignUp","username","password","preferred_username","picture","navigation","signUp","attributes","console","log","navigate","error","updateAuthUserAttributes","property","payload","dispatch","currentAuthenticatedUser","user","updateUserAttributes","then"],"mappings":";;AAAA,SAASA,IAAT,QAAqB,aAArB;AACA,SAASC,aAAT;AAGA,OAAO,SAASC,UAAT,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,kBAAzC,EAA6DC,OAA7D,EAAsEC,UAAtE,EAAmF;AACtF,MAAI;AACJP,IAAAA,IAAI,CAACQ,MAAL,CAAY;AAAEL,MAAAA,QAAQ,EAARA,QAAF;AAAYC,MAAAA,QAAQ,EAARA,QAAZ;AAAsBK,MAAAA,UAAU,EAAE;AAAEJ,QAAAA,kBAAkB,EAAlBA,kBAAF;AAAsBC,QAAAA,OAAO,EAAPA;AAAtB;AAAlC,KAAZ;AACEI,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAJ,IAAAA,UAAU,CAACK,QAAX,CAAoB,eAApB;AACD,GAJD,CAMA,OAAOC,KAAP,EAAc;AACZH,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCE,KAArC;AACD;AACJ;AAGD,OAAO,SAAeC,wBAAf,CAAyCC,QAAzC,EAAmDC,OAAnD,EAA4DC,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAGoBjB,IAAI,CAACkB,wBAAL,EAHpB;;AAAA;AAGOC,UAAAA,IAHP;AAAA;AAAA,2CAIOnB,IAAI,CAACoB,oBAAL,CAA0BD,IAA1B,sBACJJ,QADI,EACQC,OADR,GAGLK,IAHK,CAGCJ,QAAQ,CAAEhB,aAAa,EAAf,CAHT,CAJP;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAUOS,UAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;;AAVP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { Auth } from 'aws-amplify'\nimport { fetchAuthUser } from '../actions/index'\n\n//used by Register screen\nexport function authSignUp( username, password, preferred_username, picture, navigation ) {\n    try {\n    Auth.signUp({ username, password, attributes: { preferred_username, picture } })\n      console.log('✅ Sign-up Confirmed')\n      navigation.navigate('ConfirmSignUp')\n    } \n    \n    catch (error) {\n      console.log('❌ Error signing up...', error)\n    }\n}\n\n//used by UserDetails screen\nexport async function updateAuthUserAttributes( property, payload, dispatch ) { \n  \n  try {\n        const user = await Auth.currentAuthenticatedUser()\n        await Auth.updateUserAttributes(user, {\n        [ property ]: payload\n        })\n        .then( dispatch( fetchAuthUser() ) )\n    }\n    catch (error) {\n              console.log('❌ Error Updating Details', error)\n            }\n}\n"]},"metadata":{},"sourceType":"module"}